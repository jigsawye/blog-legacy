{"data":{"site":{"siteMetadata":{"title":"JIGSAWYE","author":"Evan Ye","siteUrl":"https://jigsawye.com","disqusShortname":"jigsawnotes"}},"markdownRemark":{"id":"da236dd1-591a-52f1-b926-b5689ed76661","html":"<p>幾週前 React 發佈了 <a href=\"https://reactjs.org/blog/2018/10/23/react-v-16-6.html\">16.6</a>，一口氣推出了 <code class=\"language-text\">lazy</code>、<code class=\"language-text\">memo</code> 及 <code class=\"language-text\">contextType</code> 等新功能。而其中的 <code class=\"language-text\">React.memo</code> 就是過去 <code class=\"language-text\">React.PureComponent</code> 的 HOC 版本。</p>\n<!-- more -->\n<p>過去只要讓 Component 的 <code class=\"language-text\">shouldComponentUpdate</code> 自動進行 shallow equal 比對進行 re-render，只要把 class component 的 <code class=\"language-text\">extends React.Component</code> 部分改為 <code class=\"language-text\">extends React.PureComponent</code> 即可：</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token operator\">&lt;</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Demo</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">React<span class=\"token punctuation\">.</span>Component</span> <span class=\"token punctuation\">{</span>\n<span class=\"token operator\">></span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Demo</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">React<span class=\"token punctuation\">.</span>PureComponent</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token operator\">&lt;</span>div<span class=\"token operator\">></span>Demo<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>但假設 Component 是個 function component，那就必須改寫成單單只有 <code class=\"language-text\">render</code> function 的 class component，整體看起來會相當的不直觀：</p>","excerpt":"幾週前 React 發佈了  16.6 ，一口氣推出了  、  及   等新功能。而其中的   就是過去   的 HOC 版本。 過去只要讓 Component 的   自動進行 shallow equal 比對進行 re-render，只要把 class component…","fields":{"slug":"/2018/11/30/advanced-react-memo/"},"frontmatter":{"title":"React.memo 的進階使用","date":"2018-11-30T12:00:00.000Z"}}},"pageContext":{"slug":"/2018/11/30/advanced-react-memo/"}}